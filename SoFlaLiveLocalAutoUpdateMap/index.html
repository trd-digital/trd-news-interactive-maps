<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="https://therealdeal.com/favicon.ico"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin="true"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Merriweather:wght@0,400;0,700;0,900&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.css"
    />
    <link rel="stylesheet" href="../trd-data/common-map/map.css" />

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-K694XL6");
    </script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-K694XL6"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <main class="map-container">
      <div id="map-search" class="position-absolute p-2" style="z-index:1000; left:50%; transform:translateX(-50%); top:0; width:420px;">
        <div class="card shadow-sm border-0">
          <div class="card-body py-2 px-3">
            <label for="search-input" class="form-label mb-1 small fw-bold">Search Live Local Projects</label>
            <div class="position-relative">
              <input id="search-input" type="text" class="form-control form-control-sm" placeholder="Start typing developer, address or status" autocomplete="off" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false" aria-owns="search-suggestions" />
              <ul id="search-suggestions" class="list-group position-absolute bg-white border rounded mt-1 shadow-sm" role="listbox" style="z-index:1100; max-height:260px; overflow-y:auto; display:none; width:100%;"></ul>
            </div>
            <div class="d-flex justify-content-between mt-2 align-items-center">
              <small class="text-muted" id="search-count" aria-live="polite"></small>
              <div>
                <button id="search-clear" type="button" class="btn btn-link btn-sm p-0 me-2">Clear</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <section id="map" class="map"></section>
      <button id="open-popup-btn" type="button" class="btn btn-primary position-absolute" style="right:1rem; top:4.2rem; z-index:1001; border-radius:50%; width:48px; height:48px; display:flex; align-items:center; justify-content:center;" title="Show popup">
        <span class="visually-hidden">Show popup</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
          <path d="M8 0a5.53 5.53 0 0 0-5.5 5.5c0 3.038 2.686 5.878 5.014 8.037.27.26.53.51.786.753.256-.243.517-.493.786-.753C10.814 11.378 13.5 8.538 13.5 5.5A5.53 5.53 0 0 0 8 0Zm0 8a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z"/>
        </svg>
      </button>
      <section id="modal" class="detail-modal modal">
        <div class="modal-dialog modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title"></h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body"></div>
          </div>
        </div>
      </section>
      <section id="result"></section>
    </main>

    <script src="https://experience.tinypass.com/xbuilder/experience/load?aid=p7sVIGTDn5"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.js"></script>
    <script src="https://static.therealdeal.com/library/theme.js?v=1.0"></script>
    <script src="../trd-data/common-formatter/formatter.js"></script>
    <script src="../trd-data/common-map/map.js"></script>
    <script src="app.js"></script>
  </body>
</html>
